<div class="container-login100" style="background-image: url('../../../assets/home.jpg');">
<div class="main-content" >
  <div class="container-fluid">
  <div class="row">
  <div class="col-sm-8 p-3">
   <div>
    <form id="contact" style="border-radius: 20px" [formGroup]="NutritionFormPOST" (ngSubmit)="saveData()">
      <h3>Get Your Meal Nutrition üç¥</h3>
      <h4>Free Nutrition Analysis</h4>
      <h4 style="text-align: center; color: red;" >Enter an ingredient list list for what you are cooking, like "1 cup rice, 10 oz chickpeas", etc.
       <br> Enter each ingredient on a new line.</h4>
      <fieldset>
        <textarea placeholder="1 cup rice,&#10;10 oz chickpeas" formControlName="Inger" class="form-control" id = 'Inger' required tabindex="5" required></textarea>
        <!-- Validation in Angular 13 (update)
          Old Version
            //
            <div *ngIf="f.Inger.touched && f.Inger.invalid" class="alert alert-danger">

            <div *ngIf="f.Inger.errors && f.Inger.errors.required">Inger is required.</div>

            <div *ngIf="f.Inger.errors && f.Inger.errors.minlength">Inger should be 3 character.</div>

            </div>
            /////////
        -->
        <div *ngIf="f['Inger'].touched && f['Inger'].invalid" class="alert alert-danger">
          <div *ngIf="f['Inger'].errors && f['Inger'].errors['required']"> **ingredient is required.</div>
          <div *ngIf="f['Inger'].errors && f['Inger'].errors['minlength']"> **ingredient should be 3 character.</div>
      </div>
      </fieldset>
      <fieldset>
        <button  type="submit" id="contact-submit" [disabled]="NutritionFormPOST.invalid || NutritionFormPOST == null" (click)="saveData()">Analyze üìà</button>
        <button  type="submit" id="contact-submit" *ngIf="NutritionFormPOST.invalid == false" (click)="NewRecipe()">New Recipe</button>
      </fieldset>
    </form>
  </div>

  <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
    <p style="color: white; font-weight: bold;">ÿ¨ÿßÿ±Ÿâ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ÿ±ÿ¨ÿßÿ° ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ± ... </p>
    </ngx-spinner>

<div *ngIf="this.details.length > 0  ">
  <table class="table table-hover table-light" style="margin-top: -90px;">
    <thead>
      <tr>
        <th scope="col">Qty	</th>
        <th scope="col">Unit</th>
        <th scope="col">Food</th>
        <th scope="col">Calories</th>
        <th scope="col">Weight</th>
      </tr>
    </thead>
    <tbody >
      <tr *ngFor="let item of details" >
        <td  *ngFor="let x of item.split(' ')">{{x}}</td>
      </tr>

    </tbody>
  </table>
</div>
  </div>

  <div class="col-md-4 content p-3">
    <form id="contact" style="border-radius: 15px">
      <h3 style="text-align: center; border-bottom: 3.5px solid black;">Nutrition Facts &#9829;</h3>
      <p style="text-align: center;">Amount Per Serving</p>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Info</th>
              <th scope="col">Amount</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Total Calories</th>
              <td>{{RootObjectPost.calories | number : '1.2-2'}} kcal</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Fat</th>
              <td>{{RootObjectPost.totalNutrients.FAT.quantity | number : '1.2-2'}} g <br> {{RootObjectPost.totalDaily.FAT.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Saturated Fat</th>
              <td>{{RootObjectPost.totalNutrients.FASAT.quantity | number : '1.2-2'}} g <br> {{RootObjectPost.totalDaily.FASAT.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Trans Fat -</th>
              <td>{{RootObjectPost.totalNutrients.FAMS.quantity | number : '1.2-2'}}g</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Cholesterol</th>
              <td>{{RootObjectPost.totalNutrients.CHOLE.quantity | number : '1.2-2'}} mg <br> {{RootObjectPost.totalDaily.CHOLE.quantity| number : '1.2-2'}} % </td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Sodium</th>
              <td>{{RootObjectPost.totalNutrients.NA.quantity | number : '1.2-2'}} mg <br> {{RootObjectPost.totalDaily.NA.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Total Carbohydrate</th>
              <td>{{RootObjectPost.totalNutrients.CHOCDF.quantity | number : '1.2-2'}}g  <br> {{RootObjectPost.totalDaily.CHOCDF.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost" >
              <th scope="row">Dietary Fiber</th>
              <td>
                  {{RootObjectPost.totalNutrients.FIBTG.quantity | number : '1.2-2'}}g <br> {{RootObjectPost.totalDaily.FIBTG.quantity | number : '1.2-2'}} %
            </td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Total Sugars</th>
              <td>
                {{RootObjectPost.totalNutrients.SUGAR.quantity | number : '1.2-2'}} g
              </td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Protein</th>
              <td>{{RootObjectPost.totalNutrients.PROCNT.quantity | number : '1.2-2'}} g <br> {{RootObjectPost.totalDaily.PROCNT.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Vitamin (D)</th>
              <td>{{RootObjectPost.totalNutrients.VITD.quantity | number : '1.2-2'}} ¬µg <br> {{RootObjectPost.totalDaily.VITD.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Calcium</th>
              <td>{{RootObjectPost.totalNutrients.CA.quantity | number : '1.2-2'}} mg <br> {{RootObjectPost.totalDaily.CA.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Iron</th>
              <td>{{RootObjectPost.totalNutrients.FE.quantity | number : '1.2-2'}} mg <br> {{RootObjectPost.totalDaily.FE.quantity | number : '1.2-2'}} %</td>
            </tr>
            <tr *ngFor="let RootObjectPost of RootObjectPost">
              <th scope="row">Potassium</th>
              <td>{{RootObjectPost.totalNutrients.K.quantity | number : '1.2-2'}} mg <br> {{RootObjectPost.totalDaily.K.quantity | number : '1.2-2'}} %</td>
            </tr>
          </tbody>
          <p style="color: red; text-align: center; font-size: small;">*Percent Daily Values are based on a 2000 calorie diet </p>
        </table>
    </form>
            </div>
  </div>
  </div>
</div>
</div>

<!-- Footer -->
<footer class="page-footer font-small blue">

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3"> <p class="copyright">Designed by <a href="https://github.com/MK167" target="_blank" title="Mohammed Khaled">Mohammed Khaled</a></p>
           <a href="#" style="color: black;"> </a>
  </div>
  <!-- Copyright -->
</footer>
